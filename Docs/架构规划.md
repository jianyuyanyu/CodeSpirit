# 架构规划

## .NET Aspire框架搭建

- [x] .NET 9
- [ ] Redis

## Docker+k8s

## Dapr

## 配置中心

## 日志服务

## ORM

- [x] 实体基类
- [ ] 事件触发器
- [x] 数据筛选器
  - [x] 租户筛选器
  - [x] 软删筛选器

## 事件总线

## 基础服务

- [ ] 用户中心
  - [x] 用户管理
  - [ ] 角色管理
  - [ ] 权限管理

- [ ] 订单中心
- [ ] 审计服务


## 组件封装

- [ ] API包装
- [x] 全局异常处理
- [ ] 审计
- [ ] 雪花Id
- [ ] 服务自动注册
  - [ ] IScopedDependency
  - [ ] ITransientDependency
  - [ ] ISingletonDependency

## 基于API生成后台管理界面

- [ ] 左侧导航生成
- [ ] 增删改查
  - [ ] 基于QueryDto生成查询表单
    - [ ] 字段类型
      - [x] bool——>switch
      - [x] enum——>select
      - [x] string——>text
      - [x] DateTime[]——>日期范围
      - [ ] Int[]——>整数范围
  - [ ] 基于列表方法生成列表
    - [x] 分页
    - [ ] 列
      - [ ] 列类型
        - [x] enum——>mapping
        - [x] bool——>switch
        - [x] DateTime|DateTimeOffset——>datetime
        - [x] [DataType(DataType.ImageUrl)] | 包含Avatar列——>avatar
        - [x] [DataType(DataType.ImageUrl)] | 包含Image列——>image
      - [ ] 列排序
      - [x] 默认隐藏
        - [x] 主键
        - [x] 密码
      - [ ] 操作列
        - [ ] 查看
        - [x] 编辑
        - [x] 删除
        - [x] 自定义操作：OperationAttribute
        - [ ] 根据权限控制操作按钮
      - [x] 快速编辑
    - [ ] 头部操作
      - [x] 添加
      - [ ] 导出Excel
      - [ ] 导出Csv
      - [ ] 批量操作
        - [ ] 批量删除
    - [ ] 操作表单（添加、编辑等）
      - [ ] 权限控制
      - [x] 字段支持
        - [x] 图片字段：AmisInputImageFieldAttribute
        - [x] 下拉列表：AmisSelectFieldAttribute
        - [x] 自定义字段：AmisFieldAttribute
        - [x] enum——>select
        - [x] 文本字段
        - [x] int|long|float|double——>number
        - [x] bool——>switch
        - [x] DateTime|DateTimeOffset——>datetime
        - [x] 密码字段：DataTypeAttribute|DataType.Password
        - [ ] 数组
        - [ ] 文件
        - [ ] 城市选择器
        - [ ] 颜色选择器
        - [ ] 键值对
        - [ ] 对比编辑器
        - [ ] 地理位置选择
        - [ ] 评分
        - [ ] 标签
        - [ ] 签名
      - [ ] 字段验证
        - [x] 必填
        - [x] 文本长度验证
        - [x] 数值范围验证
        - [ ] 日期范围验证
        - [ ] 正则表达式
