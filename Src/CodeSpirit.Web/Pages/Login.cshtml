@page
@{
    ViewData["Title"] = "登录";
}

<div id="root" class="app-wrapper"></div>

@section Scripts {
    <script type="text/javascript">
        (function () {
            let amis = amisRequire('amis/embed');
            let amisJSON =
            {
                type: "page",
                title: "表单页面",
                body: {
                    type: "form",
                    title: "登录",
                    controls: [
                        {
                            type: "text",
                            name: "username",
                            label: "用户名",
                            required: true,
                            placeholder: "请输入用户名",
                            inputClassName: "custom-input",
                            validation: {
                                pattern: "^[a-zA-Z0-9_]{4,16}$",
                                message: "用户名必须为4-16位的字母、数字或下划线"
                            }
                        },
                        {
                            type: "password",
                            name: "password",
                            label: "密码",
                            required: true,
                            placeholder: "请输入密码",
                            inputClassName: "custom-input"
                        },
                        {
                            type: "checkbox",
                            name: "remember",
                            label: "记住我"
                        },
                        {
                            type: "button",
                            label: "登录",
                            primary: true,
                            actionType: "ajax",
                            api: "POST /api/login",
                            block: true,
                            className: "login-button",
                            busyConfig: {
                                tip: "正在登录..."
                            }
                        },
                        {
                            type: "divider",
                            className: "divider"
                        },
                        {
                            type: "button",
                            label: "忘记密码",
                            actionType: "link",
                            to: "/forgot-password",
                            className: "forgot-password-link"
                        }
                    ]
                }
            };
            let amisScoped = amis.embed('#root', amisJSON,{},{ theme: 'antd'});
        })();
    </script>
}
